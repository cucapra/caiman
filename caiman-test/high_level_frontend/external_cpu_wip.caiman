extern compute : (i64, i64) -> i64;

// These shouldn't have to be the same name, but currently lowering
// will fail if they have different names :(
function class compute { compute }

value foo() -> i64 {
    let x = 4. 
    let z = 10. 
    let y = (compute x z).
    returns y.
}

function class foo_class { foo }

schedule foo {
    fn bar() -> &y 
      at time my_time
    {
        let x_slot := x.Prim;
        let z_slot := z.Prim;
        let y_slot := y.Call(x_slot, z_slot);
        return y_slot;
    }

}

timeline my_time(e : Event) -> Event {
    return e;
}

pipeline main = bar;
